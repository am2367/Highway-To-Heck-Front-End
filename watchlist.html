<!DOCTYPE html>
<html lang="en">
<head>
  <title>Highway to Heck</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- required files -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/jquery.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.0/css/responsive.dataTables.min.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.16/css/dataTables.bootstrap.min.css" />
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.0/js/dataTables.responsive.js"></script>
    <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

</head>
<script>
$(document).ready(function(){
		//$('#example').hide();
		//alert(JSON.parse(localStorage.getItem("list")));
		var temp = JSON.parse(localStorage.getItem("list"));
		$(temp).each(function(){
			console.log($(this));			
			$('tbody').append("<tr>");
			for (var i = 0; i < $(this).length; i++){
				console.log($(this)[i]);
				$('tbody tr').last().append("<td>" + $(this)[i] + "</td>");
			};
			$('tbody tr').last().append("<td><input type =\"button\" value=\"Remove\" id=\"remove\"></td></tr>");
		});
		//$('tbody').append(localStorage.getItem("list"));
		$('#watchlist').DataTable();
		$(document).on('click', '#remove', function(){
			$(this).closest('tr').remove();
			localStorage.removeItem("list");
		});
		
});
/*function removeFromList(){
	$(this).remove('tr');
}*/
</script>
<!-- loads nav bar -->
<script>
	$(document).ready(function(){
		$("#nav").load("navbar.html");
	}); 
</script>

<body>

<!-- nav bar -->
<nav id="nav"></nav>

<div class="container">
	<div class="panel panel-default">
		<div class="panel panel-body">
		 <table id="watchlist" class="table table-striped table-bordered" width="100%" cellspacing="0">
			<thead>
			    <tr>
				<th>id</th>
				<th>makeName</th>
				<th>modelName</th>
				<th>makeYear</th>
				<th>vehiclePrice</th>
				<th>miles</th>
				<th>exteriorColor</th>
				<th>Remove from Watchlist</th>
			    </tr>
			</thead>
			<tbody>
			</tbody>
		    </table>
		</div>
	</div>
</div>
</body>
</html>
